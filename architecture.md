# Architecture

```

┌─────────────────────────────────────────────────────────────────┐
│                        CLIENT (Browser)                         │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  │
│  │   Next.js 15    │  │  React 18       │  │  Tailwind CSS   │  │
│  │   Frontend      │  │  Components     │  │  Styling        │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘  │
└───────────────────────────────┬─────────────────────────────────┘
                                │ HTTP/REST API
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                    NESTJS BACKEND API                           │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                    AppController                            │ │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐  │ │
│  │  │   GET       │  │   POST      │  │   Search Endpoint   │  │ │
│  │  │ /characters │  │ /search     │  │  AI + DB Fallback   │  │ │
│  │  └─────────────┘  └─────────────┘  └─────────────────────┘  │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                  │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  │
│  │ Characters      │  │ Likes           │  │ Users           │  │
│  │ Service         │  │ Service         │  │ Service         │  │
│  │ - CRUD Ops      │  │ - Like/Unlike   │  │ - User Mgmt     │  │
│  │ - Data Query    │  │ - Count Likes   │  │ - Likes List    │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘  │
│                                                                  │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                    OpenAI Service                           │ │
│  │  ┌─────────────┐                      ┌─────────────────┐  │ │
│  │  │ AI Processing│ ───Fallback───▶ │ DB Query Engine   │  │ │
│  │  │ (GPT-3.5)   │                      │ (Simple Search)  │  │ │
│  │  └─────────────┘                      └─────────────────┘  │ │
│  └─────────────────────────────────────────────────────────────┘ │
└───────────────────────────────┬─────────────────────────────────┘
                                │ Prisma ORM
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                    DATA LAYER                                   │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  │
│  │   SQLite        │  │   Prisma        │  │   Database      │  │
│  │   Database      │  │   ORM           │  │   Schema        │  │
│  │                 │  │   Client        │  │   Migrations    │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘  │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                    EXTERNAL SERVICES                            │
│  ┌─────────────────┐                                            │
│  │   OpenAI API    │  (Optional - Fallback when not configured) │
│  │   GPT Models    │                                            │
│  └─────────────────┘                                            │
└─────────────────────────────────────────────────────────────────┘
```
